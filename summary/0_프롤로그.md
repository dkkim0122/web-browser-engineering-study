# 프롤로그 - 브라우저와 웹

## 브라우저 코드 개념

브라우저를 개발하려면 제어의 역전 inversion of control, 제약 프로그래밍 constraint programming, 선언형 프로그래밍 declarative programming을 구현해야 한다.

**제어의 역전**

웹은 **제어를 역전**시킨다. 여기서 제어권이 역전된다는 것은 일반적으로 프로그래머가 직접 프로그램의 흐름과 구동 방식을 제어하는 대신, 웹 개발자가 원하는 바를 중개자에게 전달하면, 중개자가 그 실행의 대부분을 처리한다는 의미입니다.

여기서의 중개자가 바로 브라우저이다. 웹 개발자는 렌더링 매개변수와 콘텐츠만 이 중개자에게 지정한다. 즉, 개발자는 **무엇(what)**을 달성할지만을 지정하고, 이를 실제로 수행하는 것, 즉 **어떻게(how)** 그것을 달성할지에 대한 책임은 브라우저에게 있다.

**제약 프로그래밍**

개발자는 대부분의 경우 화면의 직접적인 위치보다는 요소들의 상대적인 크기와 위치 같은 제약 조건 형태로 매개변수를 설정한다. 폰트 크기, 창 크기, 원하는 위치 및 크기, 그리고 위젯들의 상대적 배치(relative arrangement)는 직접적으로 지정되는 경우가 드물다. 오히려 "이 요소는 부모 요소 너비의 50%여야 한다"거나 "이 버튼은 저 위젯의 바로 오른쪽에 붙어 있어야 한다"와 같은 제약 조건들을 시스템에게 제공하는 경우가 많다. 즉 웹 브라우저의 작동 방식은 **절대적인 값 지정보다는 제약 조건 해결에 중점**을 둔다.

**선언형 프로그래밍**

앞서서 개발자는 **무엇(what)**을 달성할지만을 지정하고, 브라우저는 **어떻게(how)** 그것을 달성할지 담당한다고 했다. 웹 개발자는 웹 페이지의 픽셀을 직접 그릴 수 없으며, 대부분 그럴 필요도 없다. 화면 스타일뿐만 아니라 동작에 있어서도 선언형 프로그래밍의 개념이 적용되는데, 웹 페이지는 동작이 언제(when) 일어날지를 지정하지 않고, **어떤(that) 동작**이 일어날 것을 요구하는 경우가 많다.

이러한 **선언형 스타일** 때문에 개발자 관점에서는 변경 사항이 "**즉시 적용(apply immediately)**"되는 것처럼 보인다. 선언형 프로그래밍은 개발자에게는 **어떤(what)**에 대한 요구 사항이 ‘즉시 반영되는 마법’처럼 보이지만, 실제로는 브라우저가 이 **선언형 요구사항이 제공하는 기회를 최대한 활용**한다. 즉, 사용자가 보지 않는 동안에는 작업을 지연하고 여러 작업을 한 번에 묶어서 처리하여 **중복 작업을 피하고 성능을 극대화**하기 때문에 **실제 브라우저 코드가 매우 복잡하게** 된다.

## 브라우저의 역사

**1. 웹의 개념적 토대: 정보 연결의 꿈**

웹의 역사는 컴퓨터가 정보를 혁신할 방법에 대한 초기 구상에서 시작되었다.

- **Memex 개념 (1945년):** Vannevar Bush가 "As We May Think"라는 에세이에서 개인이 세상의 모든 정보를 보고 탐색하도록 돕는 메멕스(memex)라는 기계를 구상했다. 웹은 본질적으로 정보를 **표현하고 표시**하여 인간이 효과적으로 배우고 탐색하도록 돕는 메멕스와 유사한 목표를 중심으로 조직되어 있다.
- **하이퍼텍스트의 탄생:** 1964~1965년에 Ted Nelson이 이끈 프로젝트 자나두(Project Xanadu)에 의해 하이퍼링크로 연결된 **하이퍼텍스트** 문서 개념이 발명되었다. 웹페이지가 바로 하이퍼텍스트이며, 웹페이지 간의 링크가 하이퍼링크다.
- **주요 선구자:** 후속 시스템인 Hypertext Editing System은 **뒤로 가기 버튼**을 처음 도입했으며, Douglas Engelbart의 "모든 시연의 어머니(mother of all demos)"는 웹의 핵심 개념뿐만 아니라 컴퓨터 마우스와 그래픽 사용자 인터페이스(GUI)를 소개했다.

**2. 월드 와이드 웹(WWW)의 출현**

이러한 선행 연구들은 Tim Berners-Lee가 인터넷의 가용성과 링크 개념을 결합하여 월드 와이드 웹을 창시하는 영감을 주었다.

- **첫 번째 브라우저 (1989~1990년):** Tim Berners-Lee는 **WorldWideWeb**이라는 최초의 웹 브라우저와 웹 서버(`httpd`)를 개발했다.
- **웹의 핵심 구조:** 웹의 본질을 이루는 핵심 구성 요소는 다음과 같다:
  - 하이퍼링크로 연결된 **정보의 네트워크**
  - 사용자는 **브라우저**라는 사용자 에이전트(user agent)를 사용하여 웹을 탐색
  - 정보는 **HTTP(HyperText Transfer Protocol)**로 요청되며 **HTML** 문서 형식으로 구성.
- **분산화의 승리:** 웹 성공의 주요 요인은 **분산화된 특성**에 있었다. 게이트키퍼가 없었기 때문에 초보자도 쉽게 웹페이지를 만들고 게시할 수 있었으며, 어떠한 단일 주체의 통제를 받지 않고 표준화 기구를 통해 유지되었다.

**3. 브라우저 경쟁과 진화 (브라우저 전쟁)**

웹이 상업화된 1994년 이후, 브라우저들은 급속도로 발전하며 경쟁했다.

- **초기 브라우저:** **ViolaWWW**는 아마도 최초로 널리 배포된 브라우저로, 애플릿(applets)과 이미지와 같은 흥미로운 기능을 개척했다. 이후 1993년에 출시된 **NCSA Mosaic**에 영감을 주었다.
- **제1차 브라우저 전쟁 (Netscape 대 IE):** Mosaic의 원래 저자 중 한 명이 공동 설립한 **Netscape Navigator**가 1994년에 최초의 상업용 브라우저로 출시되었다. 위협을 느낀 Microsoft는 1995년에 **Internet Explorer**를 출시하고 Windows 95에 이를 번들로 제공하면서 경쟁이 시작되었다.
  - **핵심 기술 추가:** 이 1차 브라우저 전쟁 기간 동안 **CSS, DOM, JavaScript** 등 오늘날 브라우저의 핵심 기능이 거의 모두 추가되었다.
- **표준화:** 1994년 10월, W3C(World Wide Web Consortium)가 웹 기능에 대한 감독과 표준을 제공하기 위해 설립되었다. 경쟁적인 상황에도 불구하고, 웹 개발자들이 모든 브라우저에서 페이지가 작동하도록 보장해야 했기 때문에 웹은 표준화의 길을 걸었고, 이로 인해 웹은 문서 보기 메커니즘에서 완전히 구현된 **컴퓨팅 플랫폼 및 생태계**로 진화했다.
- **제2차 브라우저 전쟁 (2004~2017년):** Internet Explorer, Firefox, Safari, Chrome 등을 중심으로 벌어졌다. 이 시기에는 **AJAX**, HTML5 기능(예: `<canvas>`), 그리고 자바스크립트 라이브러리의 폭발적인 증가 등 현대 웹의 많은 기능이 개발되었다.

**4. 현대의 웹과 오픈 소스의 승리**

결과적으로, 브라우저 전쟁에서 어떤 브라우저가 이기고 졌는지는 중요하지 않았다. 왜냐하면 각 경우마다 **웹 자체가 승리**하여 사용자 증가와 기능 확대를 이루었기 때문이다.

- **오픈 소스 엔진:** 오늘날 모든 주류 브라우저(Chrome, Edge, Firefox, Safari 등)는 세 가지 오픈 소스 웹 렌더링/JavaScript 엔진인 **Chromium, Gecko, WebKit** 중 하나를 기반으로 한다. 이 엔진들은 모두 1990년대로 거슬러 올라간다.
- **지속적인 진화:** 브라우저 엔지니어들은 계속해서 코드를 개선하고, 기능과 성능을 확장해야 한다. 웹의 본질은 유지되겠지만, 브라우저 구축을 통해 웹의 미래를 형성할 기회가 남아 있다. 웹은 끊임없이 성장하는 거대한 연구 프로젝트처럼 진화하고 있다.
